/* Olark API documentation at: http://www.olark.com/docs and on http://blog.olark.com -- Copyright Habla Incorporated 2008 - 2010 -- looking for an internship?  jobs@olark.com */ document.hbl_ssl=document.location.protocol=="https:"||false;if(document.hbl_ssl){hbl_ext="https"}else{hbl_ext="http"}hbl_hostname="olark.com/rpc";hbl_static_hostname="static.olark.com";hblStaticPath=hbl_ext+"://static.olark.com/js";hblPostURL=hbl_ext+"://www.olark.com/emails/create";hblPopupURL=hblStaticPath+"/html/popout.html";hblUrlHandler=hblStaticPath+"/html/url_handler.html";hblPostStub=hblStaticPath+"/wc_post.js";hblName="Olark Chat";hblInstallUrl="http://www.olark.com/dashboard/install";var hbl={util:{},pipelines:{},themes:{},hwindow_util:{},plugins:{},hwindow:{config:function(){this.vars={};this.palette={};this.style_id={};this.style={};this.style_classes={};this.style_classes_map={}}},jsoncallback_norv:function(){}};hbl.util.eventmanager=function(){this.registered_events={};this.register=function(c,b,a){if(this.registered_events[c]==undefined){this.registered_events[c]=new Array()}if(a==undefined){a=999}this.registered_events[c].push({handler:b,priority:a});this.registered_events[c]=this.registered_events[c].sort(function(e,d){return(e.priority-d.priority)})};this.handle=function(e,a){if(this.registered_events[e]==undefined){return}if(a==undefined){a={}}a.window=this.win;a.event_name=e;var b="";for(var d in a){b+=d+"="+a[d]+"|"}for(var c in this.registered_events[e]){if(this.registered_events[e][c]&&typeof(this.registered_events[e][c]["handler"])=="function"){this.registered_events[e][c]["handler"](a)}}};this.unregister_all=function(a){this.registered_events[a]=[]};this.setWindow=function(a){this.win=a}};var hblrpcTrick=1;var hblDEBUG=0;var hblnoconsole=1;var hblHideUnsupported=1;var hblJavaScriptVersion="0.5m";var hblBegincall="begin_2";var hblJSInline=undefined;var hbl_max_event=1000;var hbl_hostname_delimiter=".";hbl.eventmgr=new hbl.util.eventmanager();habla_window=undefined;hbl.get_current_page=function(){return document.URL};hbl.get_current_referrer=function(){return document.referrer};hbl.hconfig=function(){this.vars={poll:false,input_width_offset_normal:16,input_width_offset_ie:16,input_width_offset_compat:8,theme_url:"../theme.js"};this.palette={};this.style={};this.plugins=new hbl.util.pluginlist();this.style_id={};this.style_classes={};this.style_classes_map={}};hbl.hconfig.prototype.setMargin=function(a){this.setMargins(a,a,a,a)};hbl.hconfig.prototype.setMargins=function(d,c,b,a){this.vars.bottom_margin=a;this.vars.right_margin=b;this.vars.left_margin=d;this.vars.top_margin=c};hbl.hconfig.prototype.setPosition=function(a){this.vars.corner_position=a};hbl.hconfig.prototype.setDirectionRtl=function(a){this.vars.rtl=a;this.style_classes.habla_conversation_div='height: $vars["convo_height_px"]; overflow: auto; border-bottom: 1px dotted $palette["control"]; background: transparent; line-height: 1.5em; padding: 3px 23px 3px 3px; border: 1px solid';this.style_classes.habla_window_div="z-index:3000; direction: rtl";this.style_classes.habla_conversation_message_off="margin: 0; padding: 3px 23px 3px 3px;",this.style_classes.habla_conversation_p_item='color: $palette["main_fg"]; margin: 0; padding: 0; text-indent: -20px; background: transparent; text-align: right;';this.style_classes.habla_conversation_person1='color: $palette["local"]; padding-left: 5px; float: right;';this.style_classes.habla_conversation_person2='color: $palette["remote"]; padding-left: 5px; float: right;'};hbl.hconfig.prototype.setInline=function(a){if(a){this.vars.is_inline=1;this.vars.disableFocus=1}else{this.vars.is_inline=0;this.vars.disableFocus=0}};hbl.hconfig.prototype.setHeight=function(a){this.vars.convo_height=a};hbl.hconfig.prototype.setWidth=function(a){this.vars.width=a};hbl.util.pluginlist=function(){this.todo=new Array();this.defined={};this.add=function(b,a){if(a==undefined){a=999}if(b==undefined){return}if(this.defined[b.name]){return}this.defined[b.name]=1;this.todo.push({handler:b,priority:a});this.todo=this.todo.sort(function(d,c){return(d.priority-c.priority)})}};hbl.util.get_body=function(){var c=document.getElementsByTagName("html");var b=null;if(c.length<1){b=document.createElement("html");document.appendChild(b)}else{b=c[0]}c=document.getElementsByTagName("body");var a=null;if(c.length>0){a=document.getElementsByTagName("body").item(0)}else{a=document.createElement("body");b.appendChild(a)}return a};hbl.util.get_head=function(){var c=document.getElementsByTagName("html");var b=null;if(c.length<1){b=document.createElement("html");document.appendChild(b)}else{b=c[0]}c=document.getElementsByTagName("head");var a=null;if(c.length>0){a=document.getElementsByTagName("head").item(0)}else{a=document.createElement("head");b.appendChild(a)}return a};hbl.util.simple_load_js_async=function(a){html_doc=hbl.util.get_body();var b=document.createElement("script");b.setAttribute("language","javascript");b.setAttribute("type","text/javascript");b.setAttribute("src",a);html_doc.appendChild(b)};hbl.util.BrowserDetect={_initialized:false,init:function(){if(this._initialized){return}this.browser=this.searchString(this.dataBrowser,1)||"An unknown browser";this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version";this.backwards_position=false;this.backwards_dimension=false;this.need_submit_button=false;if(document.compatMode=="BackCompat"){this.backwards_dimension=true}if(this.browser=="Explorer"){this.backwards_position=true;if((this.version>=7||(document.body&&typeof document.body.style.maxHeight!="undefined"))&&document.compatMode!="BackCompat"){this.backwards_position=false}}if(navigator.userAgent&&(navigator.userAgent.toLowerCase().indexOf("wii")>-1||navigator.userAgent.toLowerCase().indexOf("iphone")>-1)){this.need_submit_button=true}this._initialized=true},searchString:function(e,a){for(var b=0;b<e.length;b++){var c=e[b].string;var d=e[b].prop;this.versionSearchString=e[b].versionSearch||e[b].identity;if(c){if(c.indexOf(e[b].subString)!=-1){if(a!=undefined){this.supported=e[b].supported}return e[b].identity}}else{if(d){if(e[b].identity){this.supported=e[b].supported}return e[b].identity}}}},searchVersion:function(b){var a=b.indexOf(this.versionSearchString);if(a==-1){return}return parseFloat(b.substring(a+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.vendor,subString:"Apple",identity:"Safari",supported:"1"},{prop:window.opera,identity:"Opera",supported:"1"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox",supported:"1"},{string:navigator.vendor,subString:"Camino",identity:"Camino",supported:"1"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape",supported:"1"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE",supported:"1"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv",supported:"1"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla",supported:"1"}]};function wc_config(){return new hbl.hconfig()}hblHasinit=undefined;function wc_init(e,a){if(hblHasinit||document.URL.search("hblNoInit")>-1){return}hblHasinit=1;hbl.util.BrowserDetect.init();if(!(hbl.util.BrowserDetect.supported)&&hblHideUnsupported){return}e=e||window.__get_olark_key();if(typeof(e)=="undefined"||!e){var c=document.getElementById("hbl_code");if(c){var d=c.href.split("#");e=d[1];c.style.display="none"}else{e="missing-site-id"}}hbl.siteid=e;hbl.config=a;if(a&&a.palette){for(var b in a.palette){if(typeof(a.palette[b])=="string"){hbl.need_ugly_backwards_palette_hack=true}}}hbl.started=0;hbl.prev_onload=window.onload;window.onload=function(){habla_load_func(hbl.prev_onload)};window.setTimeout("habla_load_func(hbl.prev_onload)",2500)}function habla_load_func(a){if(hbl.started){return}hbl.started=1;if(a&&typeof(a)=="function"){try{a()}catch(b){}}if(!hblJSInline){hbl.util.simple_load_js_async(hblPostStub)}hbl.eventmgr.handle("habla_called_wc_init")}if(window.__olark_external_start){window.__olark_external_start()}var hbl_link=document.getElementById("hbl_code");if(hbl_link){hbl_link.style.display="none"}(function(){try{var c=".olark-key,#hbl_code,#olark-data{display: none !important;}";var a=document.getElementsByTagName("head")[0],b=document.createElement("style"),f=document.createTextNode(c);b.type="text/css";if(b.styleSheet){b.styleSheet.cssText=f.nodeValue}else{b.appendChild(f)}a.appendChild(b)}catch(d){try{if(window.olark&&window.olark.__legacy_shim){}else{}}catch(d){if(window.console){window.console.log("failed to hide #olark-data")}}}})();window.__get_olark_key=function(){var e=function(h,g){var i=h.className||"";return i.indexOf(g)!=-1};var c=document.getElementById("olark-data");if(c&&c.childNodes){var b=c.childNodes.length;while(b--){var f=c.childNodes[b];if(e(f,"olark-key")){return f.id.replace("olark-","")}}}var d=document.getElementsByTagName("a");var b=d.length;while(b--){var a=d[b];if(e(a,"olark-key")){return a.id.replace("olark-","")}}return null};if(window.olark&&window.olark.__legacy_shim){window.olark.__legacy_shim.legacy_stub_is_loaded=true}if(!window.olark){var message_written=false;var display_api_required_error_message=function(b){if(!message_written){if(window.console){console.error("Olark API Methods require API Javascript: http://www.olark.com/docs")}var a="<div id='olark_api_error' style='font-family:verdana;padding-left:20px;z-index:99999;background-color:#FA0000;width:100%;position:absolute;top:0px;left:0px; height:200px'><h2>API Javascript Required</h2><p>The <b>olark."+b+"()</b> method is only supported by the API Javascript.</p><p>You need to replace your existing code with the code from <a href='http://www.olark.com/docs'>olark.com/docs</a></p></p> </div>";document.write(a);message_written=true}else{}};window.olark={};window.olark.configure=function(){display_api_required_error_message("configure")};window.olark.declare=function(){display_api_required_error_message("declare")};window.olark.extend=function(){display_api_required_error_message("extend")};window.olark.ready=function(){display_api_required_error_message("ready")}};